Wed Mar  8 03:15:26 EST 2023
Slurm nodes: evc7
You were assigned 1 gpu(s)
Please run `conda env list` to see a list of all available environments. Use
`source activate <env>` to activate the environment '<env>'. 

Currently Loaded Modules:
  1) anaconda/anaconda3

 

	[4mGPU0	mlx5_0	CPU Affinity	NUMA Affinity[0m
GPU0	 X 	NODE	1,3	1
mlx5_0	NODE	 X 		

Legend:

  X    = Self
  SYS  = Connection traversing PCIe as well as the SMP interconnect between NUMA nodes (e.g., QPI/UPI)
  NODE = Connection traversing PCIe as well as the interconnect between PCIe Host Bridges within a NUMA node
  PHB  = Connection traversing PCIe as well as a PCIe Host Bridge (typically the CPU)
  PXB  = Connection traversing multiple PCIe bridges (without traversing the PCIe Host Bridge)
  PIX  = Connection traversing at most a single PCIe bridge
  NV#  = Connection traversing a bonded set of # NVLinks


1.13.1+cu116
11.6
Namespace(add_bn_next=True, add_bn_prev=False, arch='resnet18', checkpoint='checkpoint', compression=0.8, data_path='../../data/CIFAR', dataset='cifar100', display_gap=50, epochs=250, ft_epochs=250, ft_lr=0.1, ft_schedule=[100, 150, 200], ft_weight_decay=0.0005, gamma=0.1, increments=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10], jobid='226454', logs='logs', lr=0.1, manual_seed=7137, momentum=0.9, overflow=False, random_classes=False, resume_from='./checkpoint/random_init_test_resnet18/model_rand_init.pth', schedule=[100, 150, 200], test_batch=100, train_batch=64, validation=0, weight_decay=0.0005, workers=4)
Files already downloaded and verified
Files already downloaded and verified
0
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
1
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
2
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
3
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
4
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
5
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
6
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
7
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
8
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
9
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]


__________________________________________________________________________________________

Training task: 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.19454575490347947, 20.391613924050635, 69.91693037974683, 3.2430521642105488]
Testing:  [0.07451796531677246, 20.8, 77.4, 2.161406421661377]
Best Acc:  20.8

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.021781782560710665, 84.15743670886076, 99.32753164556962, 0.4672550972126707]
Testing:  [0.07829761505126953, 73.2, 96.3, 0.8856061697006226]
Best Acc:  77.9
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02099711683732045, 96.38053797468355, 99.96044303797468, 0.1132683973948035]
Testing:  [0.07329776287078857, 87.2, 99.1, 0.47263938933610916]
Best Acc:  87.2
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.023369324358203745, 99.9011075949367, 100.0, 0.008006563700464424]
Testing:  [0.09984183311462402, 88.2, 98.9, 0.4371298044919968]
Best Acc:  89.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.024228859551345246, 99.96044303797468, 100.0, 0.0064657647295300906]
Testing:  [0.08253026008605957, 87.9, 99.0, 0.4356830731034279]
Best Acc:  89.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
STAGE:2023-03-08 03:33:10 261094:261094 ActivityProfilerController.cpp:294] Completed Stage: Warm Up
STAGE:2023-03-08 03:33:10 261094:261094 ActivityProfilerController.cpp:300] Completed Stage: Collection
STAGE:2023-03-08 03:33:10 261094:261094 ActivityProfilerController.cpp:294] Completed Stage: Warm Up
STAGE:2023-03-08 03:33:10 261094:261094 ActivityProfilerController.cpp:300] Completed Stage: Collection
Testing performance of task 0:  [0.07092182636260987, 89.0, 99.2, 0.43685813397169115]
Average Task Incremental Accuracy:  89.0
[4, 7, 9, 7, 7, 11, 18, 6, 11, 10, 29, 54, 17, 51, 58, 93, 125, 43, 115, 31]

############################################# 226454_resnet18 #############################################

    Model FLOPs: 1111.09M
    Basis Model FLOPs: 183.75M
    % Reduction in FLOPs: 83.46 %
    % Speedup: 6.05 %

    Model Total Params: 11.17M
    Basis Model Total params: 4.86M
    % Reduction in Total params: 56.49 %



###########################################

Finetuning task 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.036324368247502965, 56.289556962025316, 91.87104430379746, 1.3728547943402318]
Testing:  [0.09662518501281739, 56.5, 92.6, 1.366581881046295]
Best Acc:  56.5

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03452645374249808, 83.38607594936708, 99.16930379746836, 0.4829500570327421]
Testing:  [0.10117866992950439, 76.3, 98.2, 0.7870657026767731]
Best Acc:  82.5
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03841927081723757, 91.55458860759494, 99.80221518987342, 0.252271325763645]
Testing:  [0.09428708553314209, 89.8, 99.4, 0.36262387186288836]
Best Acc:  89.8
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03589154195181931, 99.30775316455696, 100.0, 0.028231881944981368]
Testing:  [0.0792323112487793, 90.4, 99.6, 0.37919514030218127]
Best Acc:  91.4
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03392556649220141, 99.80221518987342, 100.0, 0.015097308912774242]
Testing:  [0.10224285125732421, 91.1, 99.7, 0.3818871282041073]
Best Acc:  91.4

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.10321099758148193, 91.6, 99.5, 0.3643392413854599]
Average Task Incremental Accuracy:  91.6
Running inference on model to measure class incremental accuracy ...
Total tasks: 1, CIL Acc: 91.60, Task-id Cls. Acc.:  100.00


__________________________________________________________________________________________

Training task:  1

Task ID: [1] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03208816504176659, 50.49446202531646, 92.24683544303798, 1.5198941645742972]
Testing:  [0.09166014194488525, 49.6, 94.7, 1.4662553310394286]
Best Acc:  49.6

Task ID: [1] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03334796881373925, 82.93117088607595, 99.60443037974683, 0.46358770490447176]
Testing:  [0.08665170669555664, 78.5, 98.8, 0.6735002815723419]
Best Acc:  79.5
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [1] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03149358532096766, 89.1613924050633, 99.88132911392405, 0.3026072142433517]
Testing:  [0.08745353221893311, 81.6, 99.5, 0.5159895151853562]
Best Acc:  81.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [1] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0350816340386113, 97.01344936708861, 99.98022151898734, 0.09048934549659113]
Testing:  [0.10025308132171631, 81.7, 99.4, 0.669167447090149]
Best Acc:  82.5
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [1] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032280022584939304, 97.7254746835443, 100.0, 0.0679466151809202]
Testing:  [0.08989098072052001, 81.5, 99.4, 0.712709578871727]
Best Acc:  82.7

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08921043872833252, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.08070178031921386, 82.7, 99.2, 0.6815493106842041]
Average Task Incremental Accuracy:  87.15
Running inference on model to measure class incremental accuracy ...
Total tasks: 2, CIL Acc: 73.40, Task-id Cls. Acc.:  80.60
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789]
Avg. Class Incrimental Accuracy :  82.50000381469727
Task Prediction Accuracy :  [100.0, 80.60000610351562]


__________________________________________________________________________________________

Training task:  2

Task ID: [2] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033304317088066776, 49.42642405063291, 90.48655063291139, 1.6050088797943503]
Testing:  [0.08176651000976562, 58.6, 95.5, 1.2241321325302124]
Best Acc:  58.6

Task ID: [2] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03364732899243319, 86.3132911392405, 99.72310126582279, 0.4010292008707795]
Testing:  [0.08715987205505371, 75.8, 97.0, 0.9380396544933319]
Best Acc:  81.6
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [2] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03305415563945529, 91.91060126582279, 99.82199367088607, 0.25150770967519737]
Testing:  [0.08876078128814698, 85.6, 99.5, 0.4471115380525589]
Best Acc:  85.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [2] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03146986116336871, 97.60680379746836, 99.84177215189874, 0.06928313565970975]
Testing:  [0.09898858070373535, 87.3, 99.7, 0.5201866120100022]
Best Acc:  88.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [2] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03143042854115933, 99.18908227848101, 100.0, 0.032776351640873315]
Testing:  [0.07885072231292725, 87.2, 99.2, 0.5411143392324448]
Best Acc:  88.1

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08262465000152588, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.0825190782546997, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.09392375946044922, 88.1, 99.3, 0.5201517045497894]
Average Task Incremental Accuracy:  87.46666666666665
Running inference on model to measure class incremental accuracy ...
Total tasks: 3, CIL Acc: 64.33, Task-id Cls. Acc.:  68.13
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031]
Avg. Class Incrimental Accuracy :  76.44444529215495
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812]


__________________________________________________________________________________________

Training task:  3

Task ID: [3] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.035529423363601105, 51.22626582278481, 89.83386075949367, 1.6088054104696345]
Testing:  [0.09939193725585938, 52.5, 93.8, 1.28290696144104]
Best Acc:  52.5

Task ID: [3] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031229677079599116, 84.49367088607595, 99.66376582278481, 0.4410051590279688]
Testing:  [0.09232966899871826, 76.0, 98.2, 0.7555085897445679]
Best Acc:  83.7
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [3] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032544133029406584, 89.81408227848101, 99.86155063291139, 0.29561458735526364]
Testing:  [0.08752207756042481, 84.3, 99.3, 0.4797197341918945]
Best Acc:  84.3
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [3] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03543008128298989, 97.17167721518987, 100.0, 0.07402323689783298]
Testing:  [0.1044947624206543, 85.8, 98.9, 0.6023263722658158]
Best Acc:  87.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [3] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033028288732601115, 98.41772151898734, 99.98022151898734, 0.053584761728968804]
Testing:  [0.09563717842102051, 86.0, 99.0, 0.6012583822011948]
Best Acc:  87.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09191112518310547, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.08706996440887452, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.08609235286712646, 88.1, 99.3, 0.5201517045497894]
Testing performance of task 3:  [0.08432261943817139, 87.0, 99.2, 0.5136770933866501]
Average Task Incremental Accuracy:  87.35
Running inference on model to measure class incremental accuracy ...
Total tasks: 4, CIL Acc: 60.13, Task-id Cls. Acc.:  63.28
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031, 60.125003814697266]
Avg. Class Incrimental Accuracy :  72.36458492279053
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812, 63.275001525878906]


__________________________________________________________________________________________

Training task:  4

Task ID: [4] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03273823895031893, 48.971518987341774, 88.25158227848101, 1.6554623080205313]
Testing:  [0.10242488384246826, 60.9, 95.3, 1.203122329711914]
Best Acc:  60.9

Task ID: [4] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03256748296037505, 87.65822784810126, 99.40664556962025, 0.36550946345057667]
Testing:  [0.10679392814636231, 85.4, 98.6, 0.49719567894935607]
Best Acc:  85.4
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [4] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.034529791602605504, 92.44462025316456, 99.82199367088607, 0.22837976866130588]
Testing:  [0.11265761852264404, 89.6, 99.6, 0.330777233839035]
Best Acc:  89.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [4] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03339710416673105, 98.89240506329114, 100.0, 0.03704705596842532]
Testing:  [0.0787013292312622, 90.2, 99.6, 0.40751918256282804]
Best Acc:  91.5
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [4] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032977988448324086, 99.01107594936708, 99.84177215189874, 0.040025915322778154]
Testing:  [0.09011628627777099, 90.4, 99.4, 0.41489745378494264]
Best Acc:  91.5

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08688364028930665, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.09660184383392334, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.09055178165435791, 88.1, 99.3, 0.5201517045497894]
Testing performance of task 3:  [0.09016032218933105, 87.0, 99.2, 0.5136770933866501]
Testing performance of task 4:  [0.08899872303009033, 91.5, 99.5, 0.3286176294088364]
Average Task Incremental Accuracy:  88.17999999999999
Running inference on model to measure class incremental accuracy ...
Total tasks: 5, CIL Acc: 58.28, Task-id Cls. Acc.:  60.82
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031, 60.125003814697266, 58.279998779296875]
Avg. Class Incrimental Accuracy :  69.5476676940918
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812, 63.275001525878906, 60.81999969482422]


__________________________________________________________________________________________

Training task:  5

Task ID: [5] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03165880034241495, 51.3251582278481, 91.25791139240506, 1.5223681458944007]
Testing:  [0.09498200416564942, 58.0, 95.3, 1.198095792531967]
Best Acc:  58.0

Task ID: [5] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03328852412066882, 83.82120253164557, 99.48575949367088, 0.4450968456796453]
Testing:  [0.09722685813903809, 73.9, 97.3, 0.9863227665424347]
Best Acc:  77.0
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [5] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03338885005516342, 88.9636075949367, 99.78243670886076, 0.3037451109554194]
Testing:  [0.08650197982788085, 80.9, 99.1, 0.5756984293460846]
Best Acc:  80.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [5] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03322591962693613, 97.23101265822785, 99.98022151898734, 0.08649681110076513]
Testing:  [0.10265746116638183, 81.1, 98.7, 0.7656154572963715]
Best Acc:  83.5
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [5] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03246147723137578, 98.18037974683544, 100.0, 0.054956898069645786]
Testing:  [0.09526505470275878, 81.7, 98.7, 0.7702370882034302]
Best Acc:  83.5

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09182960987091064, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.08639273643493653, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.082196044921875, 88.1, 99.3, 0.5201517045497894]
Testing performance of task 3:  [0.09362776279449463, 87.0, 99.2, 0.5136770933866501]
Testing performance of task 4:  [0.08183815479278564, 91.5, 99.5, 0.3286176294088364]
Testing performance of task 5:  [0.08908371925354004, 83.5, 98.8, 0.5719716548919678]
Average Task Incremental Accuracy:  87.39999999999999
Running inference on model to measure class incremental accuracy ...
Total tasks: 6, CIL Acc: 54.65, Task-id Cls. Acc.:  57.13
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031, 60.125003814697266, 58.279998779296875, 54.64999771118164]
Avg. Class Incrimental Accuracy :  67.06472269694011
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812, 63.275001525878906, 60.81999969482422, 57.13333511352539]


__________________________________________________________________________________________

Training task:  6

Task ID: [6] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03284788433509537, 58.840981012658226, 95.39161392405063, 1.2987863730780687]
Testing:  [0.09498882293701172, 67.0, 98.3, 0.891736114025116]
Best Acc:  67.0

Task ID: [6] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03363848336135285, 87.81645569620254, 99.88132911392405, 0.3590530345711527]
Testing:  [0.09320926666259766, 79.8, 99.1, 0.713028147816658]
Best Acc:  86.4
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [6] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03338451928730252, 95.27294303797468, 99.96044303797468, 0.14830009049818485]
Testing:  [0.09740803241729737, 89.9, 99.5, 0.2912028402090073]
Best Acc:  89.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [6] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0319928730590434, 98.63528481012658, 100.0, 0.03880882734149883]
Testing:  [0.0890307903289795, 90.4, 99.8, 0.3410142555832863]
Best Acc:  91.5
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [6] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03432058382637893, 99.40664556962025, 100.0, 0.02434173413210466]
Testing:  [0.0958401918411255, 91.3, 99.8, 0.331225124001503]
Best Acc:  91.5

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08753104209899902, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.09569141864776612, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.09452803134918213, 88.1, 99.3, 0.5201517045497894]
Testing performance of task 3:  [0.09653618335723876, 87.0, 99.2, 0.5136770933866501]
Testing performance of task 4:  [0.09342670440673828, 91.5, 99.5, 0.3286176294088364]
Testing performance of task 5:  [0.08721809387207032, 83.5, 98.8, 0.5719716548919678]
Testing performance of task 6:  [0.09574084281921387, 91.5, 99.6, 0.30461130738258363]
Average Task Incremental Accuracy:  87.98571428571428
Running inference on model to measure class incremental accuracy ...
Total tasks: 7, CIL Acc: 52.71, Task-id Cls. Acc.:  54.61
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031, 60.125003814697266, 58.279998779296875, 54.64999771118164, 52.71428298950195]
Avg. Class Incrimental Accuracy :  65.0146598815918
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812, 63.275001525878906, 60.81999969482422, 57.13333511352539, 54.614288330078125]


__________________________________________________________________________________________

Training task:  7

Task ID: [7] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03439349464223355, 56.64556962025316, 92.54351265822785, 1.4451971763296971]
Testing:  [0.09411163330078125, 67.6, 96.7, 1.0217979311943055]
Best Acc:  67.6

Task ID: [7] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03158587745473355, 86.11550632911393, 99.48575949367088, 0.406066720432873]
Testing:  [0.09172115325927735, 81.9, 98.6, 0.5562979131937027]
Best Acc:  83.4
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [7] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03187411344504055, 92.44462025316456, 99.80221518987342, 0.23558827084076556]
Testing:  [0.08676552772521973, 87.9, 99.5, 0.38843571245670316]
Best Acc:  87.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [7] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030792486818530893, 98.47705696202532, 100.0, 0.045226005436498906]
Testing:  [0.08440806865692138, 89.5, 99.4, 0.44426699727773666]
Best Acc:  90.6
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [7] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0335907211786584, 99.2879746835443, 100.0, 0.02948060153712389]
Testing:  [0.08770027160644531, 90.2, 99.4, 0.46124803125858305]
Best Acc:  90.9

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09291322231292724, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.09386973381042481, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.09171178340911865, 88.1, 99.3, 0.5201517045497894]
Testing performance of task 3:  [0.0982083797454834, 87.0, 99.2, 0.5136770933866501]
Testing performance of task 4:  [0.08556861877441406, 91.5, 99.5, 0.3286176294088364]
Testing performance of task 5:  [0.08124120235443115, 83.5, 98.8, 0.5719716548919678]
Testing performance of task 6:  [0.09793651103973389, 91.5, 99.6, 0.30461130738258363]
Testing performance of task 7:  [0.09076468944549561, 90.9, 99.4, 0.4496202126145363]
Average Task Incremental Accuracy:  88.35
Running inference on model to measure class incremental accuracy ...
Total tasks: 8, CIL Acc: 50.96, Task-id Cls. Acc.:  52.43
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031, 60.125003814697266, 58.279998779296875, 54.64999771118164, 52.71428298950195, 50.962501525878906]
Avg. Class Incrimental Accuracy :  63.258140087127686
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812, 63.275001525878906, 60.81999969482422, 57.13333511352539, 54.614288330078125, 52.42500305175781]


__________________________________________________________________________________________

Training task:  8

Task ID: [8] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03229743317712711, 56.25, 92.52373417721519, 1.4727644067776353]
Testing:  [0.08117444515228271, 52.0, 93.9, 1.283135962486267]
Best Acc:  52.0

Task ID: [8] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03288820725453051, 89.7745253164557, 99.74287974683544, 0.2969080678458455]
Testing:  [0.09180397987365722, 79.9, 98.6, 0.6835341691970825]
Best Acc:  85.0
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [8] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03310107279427444, 93.80933544303798, 99.86155063291139, 0.18518905761309817]
Testing:  [0.09957175254821778, 89.1, 99.5, 0.347174634039402]
Best Acc:  89.1
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [8] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030448654029942766, 98.83306962025317, 100.0, 0.04009603024637209]
Testing:  [0.09090139865875244, 89.8, 99.6, 0.40909855216741564]
Best Acc:  91.1
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [8] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.034804256656501865, 99.40664556962025, 100.0, 0.025436829274543857]
Testing:  [0.104152250289917, 89.8, 99.7, 0.3881997913122177]
Best Acc:  91.1

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09266974925994872, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.08674273490905762, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.1075169324874878, 88.1, 99.3, 0.5201517045497894]
Testing performance of task 3:  [0.09269552230834961, 87.0, 99.2, 0.5136770933866501]
Testing performance of task 4:  [0.09140677452087402, 91.5, 99.5, 0.3286176294088364]
Testing performance of task 5:  [0.09581248760223389, 83.5, 98.8, 0.5719716548919678]
Testing performance of task 6:  [0.10398669242858886, 91.5, 99.6, 0.30461130738258363]
Testing performance of task 7:  [0.09671826362609863, 90.9, 99.4, 0.4496202126145363]
Testing performance of task 8:  [0.08161077499389649, 91.1, 99.6, 0.36325385943055155]
Average Task Incremental Accuracy:  88.65555555555555
Running inference on model to measure class incremental accuracy ...
Total tasks: 9, CIL Acc: 48.82, Task-id Cls. Acc.:  50.02
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031, 60.125003814697266, 58.279998779296875, 54.64999771118164, 52.71428298950195, 50.962501525878906, 48.82222366333008]
Avg. Class Incrimental Accuracy :  61.6541493733724
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812, 63.275001525878906, 60.81999969482422, 57.13333511352539, 54.614288330078125, 52.42500305175781, 50.022220611572266]


__________________________________________________________________________________________

Training task:  9

Task ID: [9] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03386488443688501, 50.296677215189874, 88.74604430379746, 1.6629086551786978]
Testing:  [0.08415069580078124, 62.0, 94.4, 1.0946167290210724]
Best Acc:  62.0

Task ID: [9] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03306690952445887, 85.99683544303798, 99.5253164556962, 0.4091152403550812]
Testing:  [0.09296059608459473, 77.3, 98.1, 0.7525974750518799]
Best Acc:  82.5
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [9] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032208593585823155, 92.12816455696202, 99.92088607594937, 0.23946614733225183]
Testing:  [0.09591288566589355, 85.9, 99.1, 0.4984743118286133]
Best Acc:  85.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [9] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0342718408077578, 98.16060126582279, 99.98022151898734, 0.05632197306361757]
Testing:  [0.0990668773651123, 86.2, 98.8, 0.5986966371536255]
Best Acc:  87.1
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [9] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.034528321857693826, 98.87262658227849, 99.98022151898734, 0.03693301933287065]
Testing:  [0.10480141639709473, 86.2, 98.8, 0.623070028424263]
Best Acc:  87.1

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09538967609405517, 91.6, 99.5, 0.3643392413854599]
Testing performance of task 1:  [0.09764037132263184, 82.7, 99.2, 0.6815493106842041]
Testing performance of task 2:  [0.09800126552581787, 88.1, 99.3, 0.5201517045497894]
Testing performance of task 3:  [0.1106804609298706, 87.0, 99.2, 0.5136770933866501]
Testing performance of task 4:  [0.09644126892089844, 91.5, 99.5, 0.3286176294088364]
Testing performance of task 5:  [0.0926670789718628, 83.5, 98.8, 0.5719716548919678]
Testing performance of task 6:  [0.09309554100036621, 91.5, 99.6, 0.30461130738258363]
Testing performance of task 7:  [0.09282524585723877, 90.9, 99.4, 0.4496202126145363]
Testing performance of task 8:  [0.08775119781494141, 91.1, 99.6, 0.36325385943055155]
Testing performance of task 9:  [0.0874413013458252, 87.1, 99.0, 0.560496523976326]
Average Task Incremental Accuracy:  88.5
Running inference on model to measure class incremental accuracy ...
Total tasks: 10, CIL Acc: 47.36, Task-id Cls. Acc.:  48.46
Class Incrimental Accuracy :  [91.60000610351562, 73.4000015258789, 64.33332824707031, 60.125003814697266, 58.279998779296875, 54.64999771118164, 52.71428298950195, 50.962501525878906, 48.82222366333008, 47.36000061035156]
Avg. Class Incrimental Accuracy :  60.224734497070315
Task Prediction Accuracy :  [100.0, 80.60000610351562, 68.13333129882812, 63.275001525878906, 60.81999969482422, 57.13333511352539, 54.614288330078125, 52.42500305175781, 50.022220611572266, 48.459999084472656]


Namespace(add_bn_next=True, add_bn_prev=False, arch='resnet18', checkpoint='checkpoint/226454_resnet18', compression=0.8, data_path='../../data/CIFAR', dataset='cifar100', display_gap=50, epochs=250, ft_epochs=250, ft_lr=0.1, ft_schedule=[100, 150, 200], ft_weight_decay=0.0005, gamma=0.1, increments=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10], jobid='226454', logs='logs', lr=0.1, manual_seed=7137, momentum=0.9, num_class=100, overflow=False, random_classes=False, resume_from='./checkpoint/random_init_test_resnet18/model_rand_init.pth', schedule=[100, 150, 200], test_batch=100, train_batch=64, validation=0, weight_decay=0.0005, workers=4)
/var/spool/slurmd/job226454/slurm_script: line 65: 261094 Segmentation fault      (core dumped) python train_multitask.py --jobid $SLURM_JOB_ID --arch resnet18 --display-gap 50 --dataset cifar100 --add-bn-prev 0 --add-bn-next 1 --data-path ../../data/CIFAR --increments 10 10 10 10 10 10 10 10 10 10 --validation 0 --random-classes 0 --overflow 0 --lr 0.1 --weight-decay 0.0005 --epochs 250 --schedule 100 150 200 --compression 0.8 --workers 4 --train-batch 64 --ft-lr 0.1 --ft-weight-decay 0.0005 --ft-epochs 250 --ft-schedule 100 150 200 --manual-seed 7137

real	184m41.679s
user	389m24.659s
sys	71m48.202s

Ending script...
Wed Mar  8 06:20:09 EST 2023
