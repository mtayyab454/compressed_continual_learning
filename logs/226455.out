Wed Mar  8 03:15:36 EST 2023
Slurm nodes: evc9
You were assigned 1 gpu(s)
Please run `conda env list` to see a list of all available environments. Use
`source activate <env>` to activate the environment '<env>'. 

Currently Loaded Modules:
  1) anaconda/anaconda3

 

	[4mGPU0	mlx5_0	CPU Affinity	NUMA Affinity[0m
GPU0	 X 	SYS	0,2	0
mlx5_0	SYS	 X 		

Legend:

  X    = Self
  SYS  = Connection traversing PCIe as well as the SMP interconnect between NUMA nodes (e.g., QPI/UPI)
  NODE = Connection traversing PCIe as well as the interconnect between PCIe Host Bridges within a NUMA node
  PHB  = Connection traversing PCIe as well as a PCIe Host Bridge (typically the CPU)
  PXB  = Connection traversing multiple PCIe bridges (without traversing the PCIe Host Bridge)
  PIX  = Connection traversing at most a single PCIe bridge
  NV#  = Connection traversing a bonded set of # NVLinks


1.13.1+cu116
11.6
Namespace(add_bn_next=True, add_bn_prev=False, arch='resnet18', checkpoint='checkpoint', compression=0.7, data_path='../../data/CIFAR', dataset='cifar100', display_gap=50, epochs=250, ft_epochs=250, ft_lr=0.1, ft_schedule=[100, 150, 200], ft_weight_decay=0.0005, gamma=0.1, increments=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10], jobid='226455', logs='logs', lr=0.1, manual_seed=7137, momentum=0.9, overflow=False, random_classes=False, resume_from='./checkpoint/random_init_test_resnet18/model_rand_init.pth', schedule=[100, 150, 200], test_batch=100, train_batch=64, validation=0, weight_decay=0.0005, workers=4)
Files already downloaded and verified
Files already downloaded and verified
0
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
1
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
2
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
3
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
4
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
5
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
6
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
7
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
8
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
9
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]


__________________________________________________________________________________________

Training task: 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.16576812840715238, 15.308544303797468, 61.59018987341772, 3.4119373967375934]
Testing:  [0.08405983448028564, 20.8, 69.0, 3.275928258895874]
Best Acc:  20.8

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.022111539599261706, 84.51344936708861, 99.16930379746836, 0.4502114395174799]
Testing:  [0.09877498149871826, 71.8, 97.2, 1.0660172402858734]
Best Acc:  78.8
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02104480357109746, 96.28164556962025, 99.98022151898734, 0.12407282449870924]
Testing:  [0.08716363906860351, 87.1, 99.1, 0.40594551116228106]
Best Acc:  87.1
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.021736054480830325, 99.96044303797468, 100.0, 0.007353418153015118]
Testing:  [0.09755818843841553, 89.3, 98.8, 0.3812327064573765]
Best Acc:  89.7
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.023074684263784673, 100.0, 100.0, 0.005506881574593201]
Testing:  [0.07600367069244385, 89.4, 99.3, 0.3683763474225998]
Best Acc:  89.9

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
STAGE:2023-03-08 03:33:16 135549:135549 ActivityProfilerController.cpp:294] Completed Stage: Warm Up
STAGE:2023-03-08 03:33:16 135549:135549 ActivityProfilerController.cpp:300] Completed Stage: Collection
STAGE:2023-03-08 03:33:16 135549:135549 ActivityProfilerController.cpp:294] Completed Stage: Warm Up
STAGE:2023-03-08 03:33:16 135549:135549 ActivityProfilerController.cpp:300] Completed Stage: Collection
Testing performance of task 0:  [0.0737921953201294, 90.0, 99.0, 0.3658929094672203]
Average Task Incremental Accuracy:  90.0
[4, 5, 6, 5, 7, 12, 16, 6, 9, 11, 24, 42, 15, 38, 40, 59, 71, 30, 62, 13]

############################################# 226455_resnet18 #############################################

    Model FLOPs: 1111.09M
    Basis Model FLOPs: 134.01M
    % Reduction in FLOPs: 87.94 %
    % Speedup: 8.29 %

    Model Total Params: 11.17M
    Basis Model Total params: 3.08M
    % Reduction in Total params: 72.47 %



###########################################

Finetuning task 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03573009937624388, 48.397943037974684, 88.66693037974683, 1.5695766444447674]
Testing:  [0.08089303970336914, 57.1, 92.2, 1.3399205803871155]
Best Acc:  57.1

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.037334155432785614, 85.36392405063292, 99.20886075949367, 0.46273137459272073]
Testing:  [0.09439780712127685, 80.8, 98.7, 0.6290350437164307]
Best Acc:  81.9
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.035309359997133666, 92.6621835443038, 99.84177215189874, 0.2350156363807147]
Testing:  [0.09714353084564209, 88.6, 99.0, 0.3656022846698761]
Best Acc:  88.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03365149377267572, 99.40664556962025, 100.0, 0.023762291541936088]
Testing:  [0.08712308406829834, 89.9, 99.5, 0.4154211327433586]
Best Acc:  90.6
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03463561323624623, 99.66376582278481, 100.0, 0.012936909146654078]
Testing:  [0.08209195137023925, 89.7, 99.3, 0.430602653324604]
Best Acc:  90.6

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08104178905487061, 90.6, 99.0, 0.35882490426301955]
Average Task Incremental Accuracy:  90.6
Running inference on model to measure class incremental accuracy ...
Total tasks: 1, CIL Acc: 90.60, Task-id Cls. Acc.:  100.00


__________________________________________________________________________________________

Training task:  1

Task ID: [1] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03269947631449639, 52.68987341772152, 92.14794303797468, 1.471744244611716]
Testing:  [0.09779148101806641, 61.4, 96.2, 1.059185391664505]
Best Acc:  61.4

Task ID: [1] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03392902205262003, 82.77294303797468, 99.56487341772151, 0.48007921780212015]
Testing:  [0.08243293762207031, 70.8, 98.6, 0.9694482505321502]
Best Acc:  79.4
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [1] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032048394408407094, 88.25158227848101, 99.82199367088607, 0.3175855254447913]
Testing:  [0.09594960212707519, 82.8, 99.6, 0.5093219071626663]
Best Acc:  82.8
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [1] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032658525660068174, 96.22231012658227, 100.0, 0.11038874408017986]
Testing:  [0.09794106483459472, 81.4, 99.8, 0.5973423898220063]
Best Acc:  83.2
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [1] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03362453738345376, 97.52768987341773, 100.0, 0.0781209149362543]
Testing:  [0.09129097461700439, 81.2, 99.7, 0.6334063947200775]
Best Acc:  83.2

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08726332187652588, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.09394826889038085, 83.2, 99.6, 0.5054610669612885]
Average Task Incremental Accuracy:  86.9
Running inference on model to measure class incremental accuracy ...
Total tasks: 2, CIL Acc: 71.65, Task-id Cls. Acc.:  79.90
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789]
Avg. Class Incrimental Accuracy :  81.125
Task Prediction Accuracy :  [100.0, 79.9000015258789]


__________________________________________________________________________________________

Training task:  2

Task ID: [2] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03445408615884902, 53.91613924050633, 91.85126582278481, 1.499421853053419]
Testing:  [0.10005800724029541, 62.4, 96.5, 1.0581254184246063]
Best Acc:  62.4

Task ID: [2] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.035000921804693684, 86.21439873417721, 99.46598101265823, 0.41635703719869444]
Testing:  [0.09946136474609375, 80.1, 98.6, 0.6554803162813186]
Best Acc:  82.5
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [2] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0330101749565028, 92.36550632911393, 99.84177215189874, 0.23773313106238086]
Testing:  [0.10017998218536377, 85.3, 99.4, 0.4523360252380371]
Best Acc:  85.3
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [2] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03305475017692469, 97.86392405063292, 99.96044303797468, 0.06860822450982619]
Testing:  [0.0850299596786499, 85.7, 99.2, 0.5649487555027009]
Best Acc:  87.2
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [2] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03178137767164013, 98.69462025316456, 99.98022151898734, 0.046559921342030734]
Testing:  [0.08290514945983887, 86.1, 99.0, 0.5806902259588241]
Best Acc:  87.2

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09964830875396728, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.09058964252471924, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.08715083599090576, 87.2, 98.9, 0.4579221040010452]
Average Task Incremental Accuracy:  87.0
Running inference on model to measure class incremental accuracy ...
Total tasks: 3, CIL Acc: 63.53, Task-id Cls. Acc.:  68.00
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766]
Avg. Class Incrimental Accuracy :  75.26110967000325
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0]


__________________________________________________________________________________________

Training task:  3

Task ID: [3] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03171252298958694, 51.3251582278481, 89.85363924050633, 1.5711107065406027]
Testing:  [0.0820460557937622, 63.9, 96.8, 1.0329159855842591]
Best Acc:  63.9

Task ID: [3] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033345726471913015, 84.53322784810126, 99.42642405063292, 0.4448108552377435]
Testing:  [0.09413912296295165, 77.2, 98.5, 0.6983758926391601]
Best Acc:  82.3
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [3] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032920399798622615, 90.1503164556962, 99.88132911392405, 0.29689378753493106]
Testing:  [0.09349939823150635, 84.5, 99.1, 0.4400516182184219]
Best Acc:  84.5
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [3] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0337588032589683, 97.07278481012658, 99.98022151898734, 0.0874050890531721]
Testing:  [0.10509035587310792, 85.6, 99.4, 0.5496306002140046]
Best Acc:  86.9
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [3] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03267610827578774, 98.41772151898734, 100.0, 0.0528817280796887]
Testing:  [0.08806300163269043, 85.8, 99.2, 0.5965523391962051]
Best Acc:  86.9

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08907439708709716, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.09171862602233886, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.11104404926300049, 87.2, 98.9, 0.4579221040010452]
Testing performance of task 3:  [0.08465161323547363, 86.9, 99.3, 0.41105675101280215]
Average Task Incremental Accuracy:  86.975
Running inference on model to measure class incremental accuracy ...
Total tasks: 4, CIL Acc: 60.60, Task-id Cls. Acc.:  64.18
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766, 60.60000228881836]
Avg. Class Incrimental Accuracy :  71.59583282470703
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0, 64.17500305175781]


__________________________________________________________________________________________

Training task:  4

Task ID: [4] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.034383644031572944, 49.64398734177215, 86.62974683544304, 1.684902453724342]
Testing:  [0.0942312240600586, 65.2, 96.5, 1.0198436200618743]
Best Acc:  65.2

Task ID: [4] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03529960596108738, 87.46044303797468, 99.56487341772151, 0.3640427087681203]
Testing:  [0.08168895244598388, 81.1, 99.0, 0.5291855454444885]
Best Acc:  85.8
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [4] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03403027449982076, 92.95886075949367, 99.84177215189874, 0.22047536442928675]
Testing:  [0.0800619125366211, 87.7, 99.6, 0.3856393873691559]
Best Acc:  87.7
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [4] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03397150884700727, 98.69462025316456, 100.0, 0.04290575074927905]
Testing:  [0.10050134658813477, 89.4, 99.2, 0.4340451255440712]
Best Acc:  90.2
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [4] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03344439554818069, 99.40664556962025, 100.0, 0.025977063994807533]
Testing:  [0.10418562889099121, 88.6, 99.2, 0.45495644211769104]
Best Acc:  90.2

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08097305297851562, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.07809851169586182, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.08486874103546142, 87.2, 98.9, 0.4579221040010452]
Testing performance of task 3:  [0.08386292457580566, 86.9, 99.3, 0.41105675101280215]
Testing performance of task 4:  [0.07850711345672608, 90.2, 99.3, 0.3969101205468178]
Average Task Incremental Accuracy:  87.61999999999999
Running inference on model to measure class incremental accuracy ...
Total tasks: 5, CIL Acc: 57.96, Task-id Cls. Acc.:  60.66
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766, 60.60000228881836, 57.959999084472656]
Avg. Class Incrimental Accuracy :  68.86866607666016
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0, 64.17500305175781, 60.65999984741211]


__________________________________________________________________________________________

Training task:  5

Task ID: [5] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03431953357744821, 49.40664556962025, 89.51740506329114, 1.5890904966788957]
Testing:  [0.09146919250488281, 58.6, 94.6, 1.1545686602592469]
Best Acc:  58.6

Task ID: [5] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03364769416519358, 83.78164556962025, 99.42642405063292, 0.4567981405725962]
Testing:  [0.09649143218994141, 74.8, 98.9, 0.7998732924461365]
Best Acc:  76.9
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [5] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03749941270562667, 89.10205696202532, 99.7626582278481, 0.3024759449159043]
Testing:  [0.07781832218170166, 81.0, 98.8, 0.5839136689901352]
Best Acc:  81.0
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [5] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03328727770455276, 96.43987341772151, 99.98022151898734, 0.10200803821222691]
Testing:  [0.08350195884704589, 81.3, 98.9, 0.7456384003162384]
Best Acc:  83.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [5] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03350202644927592, 98.14082278481013, 100.0, 0.06220684009545212]
Testing:  [0.08445503711700439, 81.6, 98.6, 0.7732361912727356]
Best Acc:  83.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08165531158447266, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.09426913261413575, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.08721585273742676, 87.2, 98.9, 0.4579221040010452]
Testing performance of task 3:  [0.08701648712158203, 86.9, 99.3, 0.41105675101280215]
Testing performance of task 4:  [0.08454272747039795, 90.2, 99.3, 0.3969101205468178]
Testing performance of task 5:  [0.09929118156433106, 83.0, 99.3, 0.6047983199357987]
Average Task Incremental Accuracy:  86.84999999999998
Running inference on model to measure class incremental accuracy ...
Total tasks: 6, CIL Acc: 55.25, Task-id Cls. Acc.:  57.88
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766, 60.60000228881836, 57.959999084472656, 55.25]
Avg. Class Incrimental Accuracy :  66.5988883972168
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0, 64.17500305175781, 60.65999984741211, 57.88333511352539]


__________________________________________________________________________________________

Training task:  6

Task ID: [6] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032826372339755674, 55.57753164556962, 93.53243670886076, 1.3815281138389925]
Testing:  [0.08950891494750976, 69.2, 99.3, 0.831270408630371]
Best Acc:  69.2

Task ID: [6] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03125807303416578, 89.75474683544304, 99.86155063291139, 0.2944424741818935]
Testing:  [0.1069230318069458, 79.9, 99.2, 0.6911332130432128]
Best Acc:  87.4
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [6] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03600145593474183, 94.02689873417721, 99.96044303797468, 0.1798120149753139]
Testing:  [0.08484029769897461, 90.0, 99.7, 0.302956135571003]
Best Acc:  90.0
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [6] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03544855419593521, 98.73417721518987, 100.0, 0.04001187748876931]
Testing:  [0.09349255561828614, 91.2, 99.8, 0.3476018592715263]
Best Acc:  91.6
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [6] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032654629477971715, 99.32753164556962, 100.0, 0.02628221780156033]
Testing:  [0.08639068603515625, 91.4, 99.7, 0.34178096503019334]
Best Acc:  91.6

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09643149375915527, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.09297606945037842, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.08405601978302002, 87.2, 98.9, 0.4579221040010452]
Testing performance of task 3:  [0.0925368309020996, 86.9, 99.3, 0.41105675101280215]
Testing performance of task 4:  [0.09129700660705567, 90.2, 99.3, 0.3969101205468178]
Testing performance of task 5:  [0.07822794914245605, 83.0, 99.3, 0.6047983199357987]
Testing performance of task 6:  [0.09247281551361083, 91.6, 99.7, 0.3008693248033524]
Average Task Incremental Accuracy:  87.52857142857142
Running inference on model to measure class incremental accuracy ...
Total tasks: 7, CIL Acc: 53.06, Task-id Cls. Acc.:  55.17
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766, 60.60000228881836, 57.959999084472656, 55.25, 53.0571403503418]
Avg. Class Incrimental Accuracy :  64.66435296194894
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0, 64.17500305175781, 60.65999984741211, 57.88333511352539, 55.17142868041992]


__________________________________________________________________________________________

Training task:  7

Task ID: [7] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03422146205660663, 59.45411392405063, 91.89082278481013, 1.3519032152393196]
Testing:  [0.09377765655517578, 70.4, 96.1, 0.9286540567874908]
Best Acc:  70.4

Task ID: [7] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03380712376365179, 85.16613924050633, 99.18908227848101, 0.4571856371586836]
Testing:  [0.0933072566986084, 80.6, 99.1, 0.609841588139534]
Best Acc:  83.8
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [7] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03431532050989851, 92.64240506329114, 99.82199367088607, 0.22453418067550357]
Testing:  [0.07907469272613525, 86.6, 98.9, 0.45605081915855405]
Best Acc:  86.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [7] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03663950932176807, 98.35838607594937, 100.0, 0.052142680705159525]
Testing:  [0.08736939430236816, 88.2, 98.9, 0.5203873574733734]
Best Acc:  89.2
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [7] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033456588093238544, 98.85284810126582, 100.0, 0.038895744190822486]
Testing:  [0.09829881191253662, 88.1, 98.9, 0.5086945801973343]
Best Acc:  89.2

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09236149787902832, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.07592072486877441, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.09187507629394531, 87.2, 98.9, 0.4579221040010452]
Testing performance of task 3:  [0.09335834980010986, 86.9, 99.3, 0.41105675101280215]
Testing performance of task 4:  [0.09192097187042236, 90.2, 99.3, 0.3969101205468178]
Testing performance of task 5:  [0.0934302806854248, 83.0, 99.3, 0.6047983199357987]
Testing performance of task 6:  [0.09512820243835449, 91.6, 99.7, 0.3008693248033524]
Testing performance of task 7:  [0.10246784687042236, 89.2, 99.2, 0.4519027888774872]
Average Task Incremental Accuracy:  87.7375
Running inference on model to measure class incremental accuracy ...
Total tasks: 8, CIL Acc: 51.20, Task-id Cls. Acc.:  52.91
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766, 60.60000228881836, 57.959999084472656, 55.25, 53.0571403503418, 51.20000076293945]
Avg. Class Incrimental Accuracy :  62.981308937072754
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0, 64.17500305175781, 60.65999984741211, 57.88333511352539, 55.17142868041992, 52.91250228881836]


__________________________________________________________________________________________

Training task:  8

Task ID: [8] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03452285935607138, 51.54272151898734, 89.71518987341773, 1.5737309433236908]
Testing:  [0.09306998252868652, 69.2, 97.0, 0.9181902229785919]
Best Acc:  69.2

Task ID: [8] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03531594216069089, 88.09335443037975, 99.5253164556962, 0.3698429301192489]
Testing:  [0.10435383319854737, 82.6, 98.7, 0.6038695812225342]
Best Acc:  83.7
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [8] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03396170954161053, 92.0886075949367, 99.9011075949367, 0.23298283298558828]
Testing:  [0.08749382495880127, 88.3, 99.2, 0.3722449362277985]
Best Acc:  88.3
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [8] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033565098726296726, 98.99129746835443, 100.0, 0.03739676852062156]
Testing:  [0.10756509304046631, 89.2, 99.6, 0.42349120080471037]
Best Acc:  89.2
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [8] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03390073172653778, 99.18908227848101, 99.98022151898734, 0.029583370062534378]
Testing:  [0.10337255001068116, 89.1, 99.4, 0.4127444937825203]
Best Acc:  90.1

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.0935058832168579, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.08684120178222657, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.08773901462554931, 87.2, 98.9, 0.4579221040010452]
Testing performance of task 3:  [0.09420087337493896, 86.9, 99.3, 0.41105675101280215]
Testing performance of task 4:  [0.09513928890228271, 90.2, 99.3, 0.3969101205468178]
Testing performance of task 5:  [0.07828629016876221, 83.0, 99.3, 0.6047983199357987]
Testing performance of task 6:  [0.0759728193283081, 91.6, 99.7, 0.3008693248033524]
Testing performance of task 7:  [0.08794760704040527, 89.2, 99.2, 0.4519027888774872]
Testing performance of task 8:  [0.09768640995025635, 90.1, 99.5, 0.4131669983267784]
Average Task Incremental Accuracy:  88.0
Running inference on model to measure class incremental accuracy ...
Total tasks: 9, CIL Acc: 48.38, Task-id Cls. Acc.:  49.71
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766, 60.60000228881836, 57.959999084472656, 55.25, 53.0571403503418, 51.20000076293945, 48.37778091430664]
Avg. Class Incrimental Accuracy :  61.35869471232096
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0, 64.17500305175781, 60.65999984741211, 57.88333511352539, 55.17142868041992, 52.91250228881836, 49.71111297607422]


__________________________________________________________________________________________

Training task:  9

Task ID: [9] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03372934800160082, 51.50316455696203, 89.87341772151899, 1.5657539948632446]
Testing:  [0.0799335241317749, 66.5, 96.9, 0.9670561611652374]
Best Acc:  66.5

Task ID: [9] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032891638671295555, 86.27373417721519, 99.7626582278481, 0.40157224313367773]
Testing:  [0.09013283252716064, 76.8, 98.5, 0.7473894774913787]
Best Acc:  82.1
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [9] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03283404700363739, 91.0996835443038, 99.84177215189874, 0.2595993088016027]
Testing:  [0.08233203887939453, 85.7, 99.2, 0.4592877715826035]
Best Acc:  85.7
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [9] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03201945522163488, 97.76503164556962, 99.98022151898734, 0.06962468298269978]
Testing:  [0.09274160861968994, 86.2, 98.8, 0.6204643785953522]
Best Acc:  88.3
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [9] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03397930422915688, 98.99129746835443, 100.0, 0.036268502845181315]
Testing:  [0.09657881259918213, 87.0, 98.6, 0.6029244124889374]
Best Acc:  88.3

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08871591091156006, 90.6, 99.0, 0.35882490426301955]
Testing performance of task 1:  [0.07849454879760742, 83.2, 99.6, 0.5054610669612885]
Testing performance of task 2:  [0.07289724349975586, 87.2, 98.9, 0.4579221040010452]
Testing performance of task 3:  [0.08579058647155761, 86.9, 99.3, 0.41105675101280215]
Testing performance of task 4:  [0.07791399955749512, 90.2, 99.3, 0.3969101205468178]
Testing performance of task 5:  [0.084800124168396, 83.0, 99.3, 0.6047983199357987]
Testing performance of task 6:  [0.08925907611846924, 91.6, 99.7, 0.3008693248033524]
Testing performance of task 7:  [0.09728841781616211, 89.2, 99.2, 0.4519027888774872]
Testing performance of task 8:  [0.0874030351638794, 90.1, 99.5, 0.4131669983267784]
Testing performance of task 9:  [0.09721238613128662, 88.3, 99.3, 0.44950865805149076]
Average Task Incremental Accuracy:  88.03
Running inference on model to measure class incremental accuracy ...
Total tasks: 10, CIL Acc: 46.57, Task-id Cls. Acc.:  47.71
Class Incrimental Accuracy :  [90.5999984741211, 71.6500015258789, 63.533329010009766, 60.60000228881836, 57.959999084472656, 55.25, 53.0571403503418, 51.20000076293945, 48.37778091430664, 46.56999969482422]
Avg. Class Incrimental Accuracy :  59.87982521057129
Task Prediction Accuracy :  [100.0, 79.9000015258789, 68.0, 64.17500305175781, 60.65999984741211, 57.88333511352539, 55.17142868041992, 52.91250228881836, 49.71111297607422, 47.709999084472656]


Namespace(add_bn_next=True, add_bn_prev=False, arch='resnet18', checkpoint='checkpoint/226455_resnet18', compression=0.7, data_path='../../data/CIFAR', dataset='cifar100', display_gap=50, epochs=250, ft_epochs=250, ft_lr=0.1, ft_schedule=[100, 150, 200], ft_weight_decay=0.0005, gamma=0.1, increments=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10], jobid='226455', logs='logs', lr=0.1, manual_seed=7137, momentum=0.9, num_class=100, overflow=False, random_classes=False, resume_from='./checkpoint/random_init_test_resnet18/model_rand_init.pth', schedule=[100, 150, 200], test_batch=100, train_batch=64, validation=0, weight_decay=0.0005, workers=4)
/var/spool/slurmd/job226455/slurm_script: line 65: 135549 Segmentation fault      (core dumped) python train_multitask.py --jobid $SLURM_JOB_ID --arch resnet18 --display-gap 50 --dataset cifar100 --add-bn-prev 0 --add-bn-next 1 --data-path ../../data/CIFAR --increments 10 10 10 10 10 10 10 10 10 10 --validation 0 --random-classes 0 --overflow 0 --lr 0.1 --weight-decay 0.0005 --epochs 250 --schedule 100 150 200 --compression 0.7 --workers 4 --train-batch 64 --ft-lr 0.1 --ft-weight-decay 0.0005 --ft-epochs 250 --ft-schedule 100 150 200 --manual-seed 7137

real	184m46.572s
user	392m1.591s
sys	62m53.954s

Ending script...
Wed Mar  8 06:20:24 EST 2023
