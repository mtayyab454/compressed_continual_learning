Wed Mar  8 03:15:47 EST 2023
Slurm nodes: evc9
You were assigned 1 gpu(s)
Please run `conda env list` to see a list of all available environments. Use
`source activate <env>` to activate the environment '<env>'. 

Currently Loaded Modules:
  1) anaconda/anaconda3

 

	[4mGPU0	mlx5_0	CPU Affinity	NUMA Affinity[0m
GPU0	 X 	NODE	5,7	1
mlx5_0	NODE	 X 		

Legend:

  X    = Self
  SYS  = Connection traversing PCIe as well as the SMP interconnect between NUMA nodes (e.g., QPI/UPI)
  NODE = Connection traversing PCIe as well as the interconnect between PCIe Host Bridges within a NUMA node
  PHB  = Connection traversing PCIe as well as a PCIe Host Bridge (typically the CPU)
  PXB  = Connection traversing multiple PCIe bridges (without traversing the PCIe Host Bridge)
  PIX  = Connection traversing at most a single PCIe bridge
  NV#  = Connection traversing a bonded set of # NVLinks


1.13.1+cu116
11.6
Namespace(add_bn_next=True, add_bn_prev=False, arch='resnet18', checkpoint='checkpoint', compression=0.6, data_path='../../data/CIFAR', dataset='cifar100', display_gap=50, epochs=250, ft_epochs=250, ft_lr=0.1, ft_schedule=[100, 150, 200], ft_weight_decay=0.0005, gamma=0.1, increments=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10], jobid='226456', logs='logs', lr=0.1, manual_seed=7137, momentum=0.9, overflow=False, random_classes=False, resume_from='./checkpoint/random_init_test_resnet18/model_rand_init.pth', schedule=[100, 150, 200], test_batch=100, train_batch=64, validation=0, weight_decay=0.0005, workers=4)
Files already downloaded and verified
Files already downloaded and verified
0
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
1
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
2
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
3
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
4
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
5
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
6
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
7
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
8
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
9
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]


__________________________________________________________________________________________

Training task: 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.1658039424992815, 15.50632911392405, 61.451740506329116, 3.1922868656206735]
Testing:  [0.10065453052520752, 16.1, 72.8, 2.5616849422454835]
Best Acc:  16.1

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.021404746212536775, 85.3243670886076, 99.07041139240506, 0.4492812839489949]
Testing:  [0.07184126377105712, 78.4, 97.5, 0.722316226363182]
Best Acc:  78.7
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0248189606244051, 96.20253164556962, 99.96044303797468, 0.12409798800945282]
Testing:  [0.07411174774169922, 89.3, 99.0, 0.3835177212953568]
Best Acc:  89.3
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0216772103611427, 99.88132911392405, 100.0, 0.007525605951211875]
Testing:  [0.08805515766143798, 91.2, 98.9, 0.3715028941631317]
Best Acc:  91.2
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.021646068065981322, 99.98022151898734, 100.0, 0.005909003889117437]
Testing:  [0.07960319519042969, 89.9, 99.2, 0.3718147277832031]
Best Acc:  91.3

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
STAGE:2023-03-08 03:33:06 135619:135619 ActivityProfilerController.cpp:294] Completed Stage: Warm Up
STAGE:2023-03-08 03:33:06 135619:135619 ActivityProfilerController.cpp:300] Completed Stage: Collection
STAGE:2023-03-08 03:33:06 135619:135619 ActivityProfilerController.cpp:294] Completed Stage: Warm Up
STAGE:2023-03-08 03:33:06 135619:135619 ActivityProfilerController.cpp:300] Completed Stage: Collection
Testing performance of task 0:  [0.05781075954437256, 91.5, 99.3, 0.36446758955717085]
Average Task Incremental Accuracy:  91.5
[3, 3, 4, 4, 5, 8, 11, 4, 8, 9, 21, 32, 11, 27, 26, 39, 49, 21, 38, 10]

############################################# 226456_resnet18 #############################################

    Model FLOPs: 1111.09M
    Basis Model FLOPs: 95.51M
    % Reduction in FLOPs: 91.40 %
    % Speedup: 11.63 %

    Model Total Params: 11.17M
    Basis Model Total params: 2.17M
    % Reduction in Total params: 80.56 %



###########################################

Finetuning task 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03325007233438613, 41.811708860759495, 85.28481012658227, 1.7510659536228905]
Testing:  [0.0897951602935791, 49.5, 89.9, 1.4666364431381225]
Best Acc:  49.5

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033917653409740595, 85.3243670886076, 99.44620253164557, 0.445804003861886]
Testing:  [0.07564573287963867, 79.3, 98.6, 0.6512089908123017]
Best Acc:  81.3
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03316333625890032, 91.67325949367088, 99.74287974683544, 0.2686191368140752]
Testing:  [0.08208503723144531, 88.6, 99.6, 0.3641070067882538]
Best Acc:  88.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03161666061304792, 98.12104430379746, 99.84177215189874, 0.06631880161600022]
Testing:  [0.09517917633056641, 90.5, 99.7, 0.39843790531158446]
Best Acc:  90.5
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03342032432556152, 99.50553797468355, 100.0, 0.030901823741018394]
Testing:  [0.08968832492828369, 90.1, 99.6, 0.3844636783003807]
Best Acc:  90.7

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.07978415489196777, 90.7, 99.6, 0.38906524181365965]
Average Task Incremental Accuracy:  90.7
Running inference on model to measure class incremental accuracy ...
Total tasks: 1, CIL Acc: 90.70, Task-id Cls. Acc.:  100.00


__________________________________________________________________________________________

Training task:  1

Task ID: [1] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031914590280267253, 51.62183544303797, 91.5743670886076, 1.5113989137396027]
Testing:  [0.08140807151794434, 56.7, 96.1, 1.2759458065032958]
Best Acc:  56.7

Task ID: [1] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031229936623875097, 82.49604430379746, 99.46598101265823, 0.4963744810864895]
Testing:  [0.07683391571044922, 75.4, 98.5, 0.7358938962221145]
Best Acc:  78.4
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [1] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03202158891702, 88.01424050632912, 99.78243670886076, 0.33763541884814635]
Testing:  [0.08792436122894287, 81.9, 99.7, 0.48132958114147184]
Best Acc:  81.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [1] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030953008917313587, 94.56091772151899, 100.0, 0.1522644335238994]
Testing:  [0.08887596130371093, 82.2, 99.3, 0.6178795129060746]
Best Acc:  83.9
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [1] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03323813631564756, 96.91455696202532, 99.98022151898734, 0.08904457832627659]
Testing:  [0.09730079174041747, 82.5, 99.1, 0.6289457321166992]
Best Acc:  83.9

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09378352165222167, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.08492686748504638, 83.9, 99.5, 0.4962074726819992]
Average Task Incremental Accuracy:  87.30000000000001
Running inference on model to measure class incremental accuracy ...
Total tasks: 2, CIL Acc: 73.85, Task-id Cls. Acc.:  80.50
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562]
Avg. Class Incrimental Accuracy :  82.27500534057617
Task Prediction Accuracy :  [100.0, 80.50000762939453]


__________________________________________________________________________________________

Training task:  2

Task ID: [2] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032430410385131836, 52.80854430379747, 90.5261075949367, 1.5554911350902123]
Testing:  [0.07451601028442383, 57.4, 95.1, 1.2484278917312621]
Best Acc:  57.4

Task ID: [2] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030869713312462917, 86.3132911392405, 99.48575949367088, 0.4071634738128396]
Testing:  [0.07639994621276855, 81.4, 98.9, 0.5743399798870087]
Best Acc:  82.2
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [2] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03261827215363708, 90.7238924050633, 99.7626582278481, 0.2843275794500037]
Testing:  [0.08372786045074462, 85.9, 99.3, 0.43158395290374757]
Best Acc:  85.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [2] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031616340709637994, 97.07278481012658, 100.0, 0.0870985834375967]
Testing:  [0.07857859134674072, 86.4, 99.1, 0.4845354616641998]
Best Acc:  87.8
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [2] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031531391264517095, 98.39794303797468, 100.0, 0.05248371312465472]
Testing:  [0.09145421981811523, 86.7, 99.4, 0.5151902079582215]
Best Acc:  87.8

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08127825260162354, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.09632930755615235, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.07762477397918702, 87.8, 99.2, 0.504369568824768]
Average Task Incremental Accuracy:  87.46666666666668
Running inference on model to measure class incremental accuracy ...
Total tasks: 3, CIL Acc: 63.93, Task-id Cls. Acc.:  68.10
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867]
Avg. Class Incrimental Accuracy :  76.16111373901367
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211]


__________________________________________________________________________________________

Training task:  3

Task ID: [3] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030623179447801806, 50.43512658227848, 90.30854430379746, 1.6110289217550544]
Testing:  [0.08167693614959717, 55.4, 94.4, 1.2422838449478149]
Best Acc:  55.4

Task ID: [3] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03155450277690646, 83.64319620253164, 99.54509493670886, 0.46479259337051004]
Testing:  [0.08583037853240967, 74.5, 97.8, 0.8958075404167175]
Best Acc:  81.6
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [3] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.029720125319082524, 88.90427215189874, 99.78243670886076, 0.31761455120919624]
Testing:  [0.08185184001922607, 85.7, 99.4, 0.4519326716661453]
Best Acc:  85.7
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [3] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03281776814521113, 96.61787974683544, 100.0, 0.09737955672737164]
Testing:  [0.09375567436218261, 85.4, 99.6, 0.5407412648200989]
Best Acc:  87.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [3] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032287612746033485, 97.54746835443038, 100.0, 0.07325641274499366]
Testing:  [0.07675249576568603, 85.2, 99.3, 0.593788692355156]
Best Acc:  87.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09606337547302246, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.09002807140350341, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.07773633003234863, 87.8, 99.2, 0.504369568824768]
Testing performance of task 3:  [0.07687745094299317, 87.0, 99.3, 0.48944873809814454]
Average Task Incremental Accuracy:  87.35000000000001
Running inference on model to measure class incremental accuracy ...
Total tasks: 4, CIL Acc: 60.68, Task-id Cls. Acc.:  64.30
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867, 60.67500305175781]
Avg. Class Incrimental Accuracy :  72.2895860671997
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211, 64.30000305175781]


__________________________________________________________________________________________

Training task:  4

Task ID: [4] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033986758582199676, 49.485759493670884, 88.07357594936708, 1.7041085966025726]
Testing:  [0.08505299091339111, 63.3, 95.6, 1.0572160482406616]
Best Acc:  63.3

Task ID: [4] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03203736075872107, 86.5506329113924, 99.26819620253164, 0.41330518507504765]
Testing:  [0.08550987243652344, 80.3, 97.9, 0.6491597175598145]
Best Acc:  85.6
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [4] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031525285938118076, 91.96993670886076, 99.7626582278481, 0.25087516104118734]
Testing:  [0.08614392280578613, 88.8, 99.2, 0.36705341190099716]
Best Acc:  88.8
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [4] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031100707718088656, 97.94303797468355, 100.0, 0.062280698343404106]
Testing:  [0.08802111148834228, 89.3, 99.2, 0.4336999401450157]
Best Acc:  89.8
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [4] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03247248673740821, 99.07041139240506, 100.0, 0.040612053220407875]
Testing:  [0.08129103183746338, 88.8, 99.3, 0.44547260403633115]
Best Acc:  89.8

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08280284404754638, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.09607341289520263, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.08712882995605468, 87.8, 99.2, 0.504369568824768]
Testing performance of task 3:  [0.0774810791015625, 87.0, 99.3, 0.48944873809814454]
Testing performance of task 4:  [0.0741652011871338, 89.8, 99.1, 0.35807203203439714]
Average Task Incremental Accuracy:  87.84
Running inference on model to measure class incremental accuracy ...
Total tasks: 5, CIL Acc: 57.82, Task-id Cls. Acc.:  60.68
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867, 60.67500305175781, 57.81999969482422]
Avg. Class Incrimental Accuracy :  69.3956687927246
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211, 64.30000305175781, 60.679996490478516]


__________________________________________________________________________________________

Training task:  5

Task ID: [5] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.034910473642469964, 47.78481012658228, 89.69541139240506, 1.6447220957731898]
Testing:  [0.09130926132202148, 53.1, 91.7, 1.4560370087623595]
Best Acc:  53.1

Task ID: [5] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032935227019877375, 82.00158227848101, 99.36708860759494, 0.49366364788405503]
Testing:  [0.08588824272155762, 73.7, 97.5, 0.9116592973470687]
Best Acc:  76.2
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [5] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032359249984161766, 87.5, 99.60443037974683, 0.3425896663831759]
Testing:  [0.0989070177078247, 80.2, 99.1, 0.6160003572702408]
Best Acc:  80.2
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [5] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030120490472528, 95.2136075949367, 100.0, 0.13006904414748843]
Testing:  [0.0827486753463745, 79.9, 99.1, 0.7436981469392776]
Best Acc:  82.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [5] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030080710785298406, 97.17167721518987, 99.98022151898734, 0.08107523360772978]
Testing:  [0.09215421676635742, 80.2, 99.0, 0.7622860133647918]
Best Acc:  82.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.07749502658843994, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.08878371715545655, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.0940521240234375, 87.8, 99.2, 0.504369568824768]
Testing performance of task 3:  [0.07923970222473145, 87.0, 99.3, 0.48944873809814454]
Testing performance of task 4:  [0.08390541076660156, 89.8, 99.1, 0.35807203203439714]
Testing performance of task 5:  [0.10464775562286377, 82.0, 99.3, 0.6349903345108032]
Average Task Incremental Accuracy:  86.86666666666667
Running inference on model to measure class incremental accuracy ...
Total tasks: 6, CIL Acc: 54.85, Task-id Cls. Acc.:  57.70
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867, 60.67500305175781, 57.81999969482422, 54.849998474121094]
Avg. Class Incrimental Accuracy :  66.9713904062907
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211, 64.30000305175781, 60.679996490478516, 57.70000076293945]


__________________________________________________________________________________________

Training task:  6

Task ID: [6] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03184433224834973, 58.010284810126585, 95.56962025316456, 1.3111523419995852]
Testing:  [0.0819650411605835, 60.1, 97.7, 1.1290485501289367]
Best Acc:  60.1

Task ID: [6] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03308578986155836, 89.83386075949367, 99.86155063291139, 0.28800282438721836]
Testing:  [0.08539433479309082, 83.0, 98.8, 0.5776906460523605]
Best Acc:  87.3
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [6] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03093395052076895, 93.82911392405063, 100.0, 0.18162335964697826]
Testing:  [0.086252760887146, 90.6, 99.6, 0.2837267994880676]
Best Acc:  90.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [6] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03365612935416306, 98.39794303797468, 100.0, 0.05058338877426673]
Testing:  [0.07987980842590332, 92.4, 99.7, 0.26179503872990606]
Best Acc:  92.6
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [6] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030861042722871032, 98.83306962025317, 100.0, 0.04702700906185598]
Testing:  [0.08037083148956299, 91.8, 99.8, 0.2748149290680885]
Best Acc:  93.1

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.079140305519104, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.06924686431884766, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.07834603786468505, 87.8, 99.2, 0.504369568824768]
Testing performance of task 3:  [0.07859783172607422, 87.0, 99.3, 0.48944873809814454]
Testing performance of task 4:  [0.07736108303070069, 89.8, 99.1, 0.35807203203439714]
Testing performance of task 5:  [0.08746497631072998, 82.0, 99.3, 0.6349903345108032]
Testing performance of task 6:  [0.08174400329589844, 93.1, 99.8, 0.266266880184412]
Average Task Incremental Accuracy:  87.75714285714287
Running inference on model to measure class incremental accuracy ...
Total tasks: 7, CIL Acc: 52.40, Task-id Cls. Acc.:  54.37
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867, 60.67500305175781, 57.81999969482422, 54.849998474121094, 52.39999771118164]
Avg. Class Incrimental Accuracy :  64.88976287841797
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211, 64.30000305175781, 60.679996490478516, 57.70000076293945, 54.371429443359375]


__________________________________________________________________________________________

Training task:  7

Task ID: [7] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032421516466744335, 56.25, 92.2863924050633, 1.4482686391359643]
Testing:  [0.08213467597961426, 64.3, 96.2, 1.0583990514278412]
Best Acc:  64.3

Task ID: [7] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030864042571828336, 86.66930379746836, 99.64398734177215, 0.40461121650436255]
Testing:  [0.07815747261047364, 71.7, 98.7, 1.1042765259742737]
Best Acc:  83.1
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [7] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03223255012608782, 91.43591772151899, 99.78243670886076, 0.2531916645320156]
Testing:  [0.08128812313079833, 86.7, 99.0, 0.46169531941413877]
Best Acc:  86.7
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [7] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032168017158025426, 97.74525316455696, 100.0, 0.07652815618799834]
Testing:  [0.08505392074584961, 87.7, 99.0, 0.5106697320938111]
Best Acc:  89.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [7] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03113097178785107, 98.45727848101266, 100.0, 0.052796585874372644]
Testing:  [0.08155515193939208, 88.4, 99.0, 0.5107873290777206]
Best Acc:  89.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09278459548950195, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.09824442863464355, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.07850582599639892, 87.8, 99.2, 0.504369568824768]
Testing performance of task 3:  [0.08328285217285156, 87.0, 99.3, 0.48944873809814454]
Testing performance of task 4:  [0.09238603115081787, 89.8, 99.1, 0.35807203203439714]
Testing performance of task 5:  [0.08691639900207519, 82.0, 99.3, 0.6349903345108032]
Testing performance of task 6:  [0.08652536869049073, 93.1, 99.8, 0.266266880184412]
Testing performance of task 7:  [0.07464921474456787, 89.0, 99.0, 0.4455013617873192]
Average Task Incremental Accuracy:  87.91250000000001
Running inference on model to measure class incremental accuracy ...
Total tasks: 8, CIL Acc: 50.19, Task-id Cls. Acc.:  51.94
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867, 60.67500305175781, 57.81999969482422, 54.849998474121094, 52.39999771118164, 50.187503814697266]
Avg. Class Incrimental Accuracy :  63.05198049545288
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211, 64.30000305175781, 60.679996490478516, 57.70000076293945, 54.371429443359375, 51.937503814697266]


__________________________________________________________________________________________

Training task:  8

Task ID: [8] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03217472909372064, 51.50316455696203, 90.92167721518987, 1.5671381708941883]
Testing:  [0.08211543560028076, 57.9, 95.1, 1.2107866525650024]
Best Acc:  57.9

Task ID: [8] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03231618676004531, 88.62737341772151, 99.46598101265823, 0.344002236293841]
Testing:  [0.09649991989135742, 81.6, 98.7, 0.5912229746580124]
Best Acc:  84.0
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [8] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031325062618979924, 93.15664556962025, 99.80221518987342, 0.21240992702638048]
Testing:  [0.07887609004974365, 88.9, 99.6, 0.36565412729978564]
Best Acc:  88.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [8] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03153607815126829, 97.88370253164557, 99.98022151898734, 0.059551317952101744]
Testing:  [0.09893984794616699, 88.7, 99.3, 0.4762937366962433]
Best Acc:  90.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [8] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030223152305506453, 98.89240506329114, 100.0, 0.03819101835789654]
Testing:  [0.08804628849029542, 89.1, 99.4, 0.4690579190850258]
Best Acc:  90.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.07923610210418701, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.08407461643218994, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.08745827674865722, 87.8, 99.2, 0.504369568824768]
Testing performance of task 3:  [0.09352974891662598, 87.0, 99.3, 0.48944873809814454]
Testing performance of task 4:  [0.08484482765197754, 89.8, 99.1, 0.35807203203439714]
Testing performance of task 5:  [0.07820031642913819, 82.0, 99.3, 0.6349903345108032]
Testing performance of task 6:  [0.10026531219482422, 93.1, 99.8, 0.266266880184412]
Testing performance of task 7:  [0.07540113925933838, 89.0, 99.0, 0.4455013617873192]
Testing performance of task 8:  [0.07644729614257813, 90.0, 99.5, 0.38086424469947816]
Average Task Incremental Accuracy:  88.14444444444445
Running inference on model to measure class incremental accuracy ...
Total tasks: 9, CIL Acc: 47.92, Task-id Cls. Acc.:  49.31
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867, 60.67500305175781, 57.81999969482422, 54.849998474121094, 52.39999771118164, 50.187503814697266, 47.92222213745117]
Avg. Class Incrimental Accuracy :  61.37089623345269
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211, 64.30000305175781, 60.679996490478516, 57.70000076293945, 54.371429443359375, 51.937503814697266, 49.31111145019531]


__________________________________________________________________________________________

Training task:  9

Task ID: [9] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.031691828860512264, 51.16693037974684, 90.20965189873418, 1.6345988330961783]
Testing:  [0.09167177677154541, 54.0, 93.7, 1.384884524345398]
Best Acc:  54.0

Task ID: [9] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03386684610873838, 85.28481012658227, 99.50553797468355, 0.4291017051739029]
Testing:  [0.08184161186218261, 77.7, 98.8, 0.7117361485958099]
Best Acc:  81.3
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [9] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03312712983240055, 90.98101265822785, 99.74287974683544, 0.27391545908360543]
Testing:  [0.08496308326721191, 86.3, 99.6, 0.448523485660553]
Best Acc:  86.3
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [9] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02977179273774352, 97.09256329113924, 100.0, 0.08239233327581535]
Testing:  [0.0813215970993042, 86.2, 99.3, 0.5646934300661087]
Best Acc:  87.6
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [9] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03159276443191721, 98.49683544303798, 99.98022151898734, 0.050030457952260216]
Testing:  [0.09642946720123291, 85.0, 99.2, 0.5785956233739853]
Best Acc:  87.6

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.10232555866241455, 90.7, 99.6, 0.38906524181365965]
Testing performance of task 1:  [0.0863595724105835, 83.9, 99.5, 0.4962074726819992]
Testing performance of task 2:  [0.08838932514190674, 87.8, 99.2, 0.504369568824768]
Testing performance of task 3:  [0.08645210266113282, 87.0, 99.3, 0.48944873809814454]
Testing performance of task 4:  [0.0830888032913208, 89.8, 99.1, 0.35807203203439714]
Testing performance of task 5:  [0.07804977893829346, 82.0, 99.3, 0.6349903345108032]
Testing performance of task 6:  [0.08364343643188477, 93.1, 99.8, 0.266266880184412]
Testing performance of task 7:  [0.08259067535400391, 89.0, 99.0, 0.4455013617873192]
Testing performance of task 8:  [0.08045611381530762, 90.0, 99.5, 0.38086424469947816]
Testing performance of task 9:  [0.08310718536376953, 87.6, 99.7, 0.4762347340583801]
Average Task Incremental Accuracy:  88.09
Running inference on model to measure class incremental accuracy ...
Total tasks: 10, CIL Acc: 46.04, Task-id Cls. Acc.:  47.20
Class Incrimental Accuracy :  [90.70000457763672, 73.85000610351562, 63.93333053588867, 60.67500305175781, 57.81999969482422, 54.849998474121094, 52.39999771118164, 50.187503814697266, 47.92222213745117, 46.03999710083008]
Avg. Class Incrimental Accuracy :  59.83780632019043
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.0999984741211, 64.30000305175781, 60.679996490478516, 57.70000076293945, 54.371429443359375, 51.937503814697266, 49.31111145019531, 47.20000076293945]


Namespace(add_bn_next=True, add_bn_prev=False, arch='resnet18', checkpoint='checkpoint/226456_resnet18', compression=0.6, data_path='../../data/CIFAR', dataset='cifar100', display_gap=50, epochs=250, ft_epochs=250, ft_lr=0.1, ft_schedule=[100, 150, 200], ft_weight_decay=0.0005, gamma=0.1, increments=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10], jobid='226456', logs='logs', lr=0.1, manual_seed=7137, momentum=0.9, num_class=100, overflow=False, random_classes=False, resume_from='./checkpoint/random_init_test_resnet18/model_rand_init.pth', schedule=[100, 150, 200], test_batch=100, train_batch=64, validation=0, weight_decay=0.0005, workers=4)
/var/spool/slurmd/job226456/slurm_script: line 65: 135619 Segmentation fault      (core dumped) python train_multitask.py --jobid $SLURM_JOB_ID --arch resnet18 --display-gap 50 --dataset cifar100 --add-bn-prev 0 --add-bn-next 1 --data-path ../../data/CIFAR --increments 10 10 10 10 10 10 10 10 10 10 --validation 0 --random-classes 0 --overflow 0 --lr 0.1 --weight-decay 0.0005 --epochs 250 --schedule 100 150 200 --compression 0.6 --workers 4 --train-batch 64 --ft-lr 0.1 --ft-weight-decay 0.0005 --ft-epochs 250 --ft-schedule 100 150 200 --manual-seed 7137

real	173m10.102s
user	369m40.579s
sys	56m40.816s

Ending script...
Wed Mar  8 06:08:59 EST 2023
