Sun Mar 19 00:57:44 EDT 2023
Slurm nodes: evc1
You were assigned 1 gpu(s)
Please run `conda env list` to see a list of all available environments. Use
`source activate <env>` to activate the environment '<env>'. 

Currently Loaded Modules:
  1) anaconda/anaconda3

 

	[4mGPU0	mlx5_0	CPU Affinity	NUMA Affinity[0m
GPU0	 X 	NODE	5,7	1
mlx5_0	NODE	 X 		

Legend:

  X    = Self
  SYS  = Connection traversing PCIe as well as the SMP interconnect between NUMA nodes (e.g., QPI/UPI)
  NODE = Connection traversing PCIe as well as the interconnect between PCIe Host Bridges within a NUMA node
  PHB  = Connection traversing PCIe as well as a PCIe Host Bridge (typically the CPU)
  PXB  = Connection traversing multiple PCIe bridges (without traversing the PCIe Host Bridge)
  PIX  = Connection traversing at most a single PCIe bridge
  NV#  = Connection traversing a bonded set of # NVLinks


1.13.1+cu116
11.6
Namespace(add_bn_next=True, add_bn_prev=False, arch='resnet18', checkpoint='checkpoint', compression=0.9, data_path='../../data/CIFAR', dataset='cifar100', display_gap=50, epochs=250, ft_epochs=250, ft_lr=0.1, ft_schedule=[100, 150, 200], ft_weight_decay=0.0005, gamma=0.1, growth_rate=0.3, increments=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10], jobid='227637', logs='logs', lr=0.1, manual_seed=7137, momentum=0.9, overflow=False, random_classes=False, resume_from='./checkpoint/random_init_test_resnet18/model_rand_init.pth', schedule=[100, 150, 200], test_batch=100, train_batch=64, validation=0, weight_decay=0.0005, workers=4)
Files already downloaded and verified
Files already downloaded and verified
0
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
1
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
2
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
3
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
4
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
5
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
6
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
7
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
8
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
9
[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]


__________________________________________________________________________________________

Training task: 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.07037641126898271, 16.41613924050633, 64.14161392405063, 3.1654479941235314]
Testing:  [0.07762246131896973, 20.8, 76.4, 2.3911036014556886]
Best Acc:  20.8

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02134533773494672, 85.40348101265823, 99.0506329113924, 0.45343157215208946]
Testing:  [0.08034770488739014, 77.0, 97.9, 0.7564771085977554]
Best Acc:  79.8
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02141341680212866, 96.38053797468355, 100.0, 0.12278304656943943]
Testing:  [0.09144086837768554, 87.9, 99.0, 0.41487393975257875]
Best Acc:  87.9
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.019993175434160838, 99.94066455696202, 100.0, 0.007391496447999549]
Testing:  [0.07134897708892822, 90.1, 99.2, 0.3905111730098724]
Best Acc:  90.1
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0200940204572074, 99.96044303797468, 100.0, 0.006517164734828793]
Testing:  [0.08206748962402344, 89.7, 98.9, 0.381396484375]
Best Acc:  90.1

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.0677562952041626, 90.1, 99.3, 0.37870122492313385]
Average Task Incremental Accuracy:  90.1
[7, 12, 16, 13, 16, 22, 37, 13, 27, 33, 51, 88, 32, 74, 95, 159, 192, 70, 191, 75]


###########################################

Finetuning task 0

Task ID: [0] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02917389326457736, 66.93037974683544, 94.97626582278481, 1.0433734238053425]
Testing:  [0.10499362945556641, 63.9, 96.0, 1.1158085882663726]
Best Acc:  63.9

Task ID: [0] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02763694751111767, 85.50237341772151, 99.40664556962025, 0.4233373803428457]
Testing:  [0.08002636432647706, 79.0, 98.6, 0.6538212180137635]
Best Acc:  84.1
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [0] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.02915391137328329, 91.93037974683544, 99.72310126582279, 0.25276673434278635]
Testing:  [0.08125867843627929, 90.3, 99.1, 0.3247096687555313]
Best Acc:  90.3
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [0] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.030491560320310956, 99.44620253164557, 100.0, 0.0308394470823858]
Testing:  [0.08235058784484864, 90.5, 98.8, 0.38741055130958557]
Best Acc:  91.5
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [0] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.029701178586935696, 99.82199367088607, 100.0, 0.012267581137085828]
Testing:  [0.09292910099029542, 90.9, 98.8, 0.3741818845272064]
Best Acc:  91.6

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.09920282363891601, 91.6, 98.9, 0.3746637776494026]
Average Task Incremental Accuracy:  91.6
Running inference on model to measure class incremental accuracy ...
Total tasks: 1, CIL Acc: 91.60, Task-id Cls. Acc.:  100.00


__________________________________________________________________________________________

Training task:  1

Task ID: [1] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0353584621526018, 18.473101265822784, 62.223101265822784, 3.552610288692426]
Testing:  [0.08888881206512451, 28.6, 73.2, 2.134409475326538]
Best Acc:  28.6

Task ID: [1] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.032717719862732704, 73.77373417721519, 98.6748417721519, 0.7213374542284615]
Testing:  [0.08499951362609863, 69.1, 97.1, 0.9453710675239563]
Best Acc:  70.7
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [1] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.033473932290379003, 86.29351265822785, 99.78243670886076, 0.3701044170162346]
Testing:  [0.0712824821472168, 79.6, 99.2, 0.5714928179979324]
Best Acc:  79.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [1] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03262983696370185, 97.07278481012658, 99.98022151898734, 0.08864511905497388]
Testing:  [0.08561286926269532, 79.3, 98.6, 0.7836515218019485]
Best Acc:  81.0
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [1] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.036621205414397805, 98.85284810126582, 100.0, 0.0457436908743804]
Testing:  [0.08291850090026856, 79.7, 98.6, 0.8680112779140472]
Best Acc:  81.0

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.07336237430572509, 91.6, 98.9, 0.3746637776494026]
Testing performance of task 1:  [0.07495639324188233, 81.0, 99.2, 0.6546265095472336]
Average Task Incremental Accuracy:  86.3
Running inference on model to measure class incremental accuracy ...
Total tasks: 2, CIL Acc: 73.05, Task-id Cls. Acc.:  80.50
Class Incrimental Accuracy :  [91.60000610351562, 73.05000305175781]
Avg. Class Incrimental Accuracy :  82.32500457763672
Task Prediction Accuracy :  [100.0, 80.50000762939453]


__________________________________________________________________________________________

Training task:  2

Task ID: [2] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.037302599677556676, 13.409810126582279, 55.85443037974684, 3.9460176999055885]
Testing:  [0.08486251831054688, 17.2, 67.6, 2.19468674659729]
Best Acc:  17.2

Task ID: [2] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.040619294854659066, 78.65901898734177, 98.55617088607595, 0.6458584802060188]
Testing:  [0.08517644405364991, 76.4, 98.4, 0.7119015455245972]
Best Acc:  77.2
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [2] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03841588165186628, 91.73259493670886, 99.72310126582279, 0.2516646044729631]
Testing:  [0.0915684461593628, 85.6, 99.6, 0.42713422179222105]
Best Acc:  85.6
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [2] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.037113225912745997, 98.89240506329114, 100.0, 0.03577154732745471]
Testing:  [0.0813826560974121, 85.7, 99.0, 0.5530745476484299]
Best Acc:  87.3
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [2] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.03840821000594127, 99.74287974683544, 100.0, 0.01608627245325265]
Testing:  [0.08042845726013184, 86.6, 99.4, 0.5151461690664292]
Best Acc:  87.8

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.07235105037689209, 91.6, 98.9, 0.3746637776494026]
Testing performance of task 1:  [0.07254421710968018, 81.0, 99.2, 0.6546265095472336]
Testing performance of task 2:  [0.08451533317565918, 87.8, 99.4, 0.5268068581819534]
Average Task Incremental Accuracy:  86.8
Running inference on model to measure class incremental accuracy ...
Total tasks: 3, CIL Acc: 64.67, Task-id Cls. Acc.:  68.87
Class Incrimental Accuracy :  [91.60000610351562, 73.05000305175781, 64.66666412353516]
Avg. Class Incrimental Accuracy :  76.4388910929362
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.86666107177734]


__________________________________________________________________________________________

Training task:  3

Task ID: [3] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.043002593366405634, 11.313291139240507, 52.0371835443038, 4.374400404435169]
Testing:  [0.07634470462799073, 11.0, 52.2, 2.8586751937866213]
Best Acc:  11.0

Task ID: [3] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.04347560375551634, 77.94699367088607, 98.93196202531645, 0.6358653076841861]
Testing:  [0.08521511554718017, 75.9, 98.2, 0.7262446641921997]
Best Acc:  75.9
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [3] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.04086722301531442, 89.81408227848101, 99.86155063291139, 0.2990108743498597]
Testing:  [0.08002917766571045, 86.3, 99.1, 0.46586431860923766]
Best Acc:  86.3
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [3] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.04024719286568557, 98.8132911392405, 100.0, 0.04375345050652005]
Testing:  [0.08632838726043701, 84.9, 99.0, 0.6965327680110931]
Best Acc:  86.7
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [3] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.042234097855000555, 99.64398734177215, 100.0, 0.01656261002468063]
Testing:  [0.08005340099334717, 85.7, 99.0, 0.6912151098251342]
Best Acc:  86.7

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.07744314670562744, 91.6, 98.9, 0.3746637776494026]
Testing performance of task 1:  [0.08306150436401367, 81.0, 99.2, 0.6546265095472336]
Testing performance of task 2:  [0.07218992710113525, 87.8, 99.4, 0.5268068581819534]
Testing performance of task 3:  [0.08743822574615479, 86.7, 99.0, 0.5165516287088394]
Average Task Incremental Accuracy:  86.77499999999999
Running inference on model to measure class incremental accuracy ...
Total tasks: 4, CIL Acc: 60.48, Task-id Cls. Acc.:  63.97
Class Incrimental Accuracy :  [91.60000610351562, 73.05000305175781, 64.66666412353516, 60.47500228881836]
Avg. Class Incrimental Accuracy :  72.44791889190674
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.86666107177734, 63.974998474121094]


__________________________________________________________________________________________

Training task:  4

Task ID: [4] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.04460790791089022, 17.95886075949367, 63.09335443037975, 3.5993790038024325]
Testing:  [0.08527648448944092, 21.2, 67.2, 2.2052222013473513]
Best Acc:  21.2

Task ID: [4] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.044199309771574, 81.80379746835443, 98.99129746835443, 0.5423060976251771]
Testing:  [0.08607840538024902, 80.0, 98.1, 0.6392014473676682]
Best Acc:  81.8
New lr for parameter group: 0  ->  0.010000000000000002

Task ID: [4] - Epoch: [101 | 250] LR: 0.010000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.0460263898101034, 94.08623417721519, 99.88132911392405, 0.18040400215342076]
Testing:  [0.08202788829803467, 89.4, 99.2, 0.34112419039011]
Best Acc:  89.4
New lr for parameter group: 0  ->  0.0010000000000000002

Task ID: [4] - Epoch: [151 | 250] LR: 0.001000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.048083739944651156, 99.54509493670886, 100.0, 0.023927085811885285]
Testing:  [0.07889404296875, 91.4, 99.6, 0.37524709552526475]
Best Acc:  91.9
New lr for parameter group: 0  ->  0.00010000000000000003

Task ID: [4] - Epoch: [201 | 250] LR: 0.000100

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.04567793049389803, 99.92088607594937, 100.0, 0.00864987751863944]
Testing:  [0.07657947540283203, 90.8, 99.5, 0.3888063862919807]
Best Acc:  91.9

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Testing performance of task 0:  [0.08304650783538818, 91.6, 98.9, 0.3746637776494026]
Testing performance of task 1:  [0.07910537719726562, 81.0, 99.2, 0.6546265095472336]
Testing performance of task 2:  [0.07987492084503174, 87.8, 99.4, 0.5268068581819534]
Testing performance of task 3:  [0.08533616065979004, 86.7, 99.0, 0.5165516287088394]
Testing performance of task 4:  [0.08450803756713868, 91.9, 99.7, 0.3204298004508018]
Average Task Incremental Accuracy:  87.8
Running inference on model to measure class incremental accuracy ...
Total tasks: 5, CIL Acc: 59.48, Task-id Cls. Acc.:  62.28
Class Incrimental Accuracy :  [91.60000610351562, 73.05000305175781, 64.66666412353516, 60.47500228881836, 59.47999954223633]
Avg. Class Incrimental Accuracy :  69.85433502197266
Task Prediction Accuracy :  [100.0, 80.50000762939453, 68.86666107177734, 63.974998474121094, 62.279998779296875]


__________________________________________________________________________________________

Training task:  5

Task ID: [5] - Epoch: [1 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.052198183687427374, 12.242879746835444, 51.66139240506329, 4.212938752355455]
Testing:  [0.0886390209197998, 14.1, 54.5, 2.5615817308425903]
Best Acc:  14.1

Task ID: [5] - Epoch: [51 | 250] LR: 0.100000

Keys:  ['time', 'acc1', 'acc5', 'ce_loss']
Training:  [0.049789567536945585, 80.34018987341773, 99.22863924050633, 0.5427176303501371]
Testing:  [0.07887775897979736, 71.1, 97.9, 0.8765956938266755]
Best Acc:  72.0
slurmstepd: error: *** JOB 227637 ON evc1 CANCELLED AT 2023-03-19T03:08:29 ***
